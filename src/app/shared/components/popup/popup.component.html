<div class="popup">
  <div class="application">

    <div class="title" *ngIf="!isSubmitted">Закажите бесплатную консультацию!</div>
    <div class="title" *ngIf="isSubmitted">Спасибо за вашу заявку!</div>

    <form *ngIf="!isSubmitted" (ngSubmit)="submitForm()" [formGroup]="consultationForm">
      <input type="text" class="input" placeholder="Ваше имя" formControlName="name"
             [ngStyle]="{'border-color': consultationForm.get('name')?.invalid && (consultationForm.get('name')?.dirty || consultationForm.get('name')?.touched) ? 'red' : ''}">
      <div class="error-msg" *ngIf="(consultationForm.get('name')?.invalid && (consultationForm.get('name')?.dirty || consultationForm.get('name')?.touched))">*поле обязательно для заполнения</div>
      <input type="text" class="input" placeholder="Ваш номер телефона" formControlName="phone"
             prefix="+7 " mask="(000) 000-00-00" [showMaskTyped]="true" [dropSpecialCharacters]="true"
             [ngStyle]="{'border-color': consultationForm.get('phone')?.invalid && (consultationForm.get('phone')?.dirty || consultationForm.get('phone')?.touched) ? 'red' : ''}">
      <div class="error-msg" *ngIf="(consultationForm.get('phone')?.invalid && (consultationForm.get('phone')?.dirty || consultationForm.get('phone')?.touched))">*поле обязательно для заполнения</div>
      <button class="btn" type="submit">Заказать консультацию</button>
    </form>

    <div class="answer" *ngIf="isSubmitted">
      <p>Мы свяжемся с вами при первой же возможности.</p>
      <button class="btn" (click)="closePopup()">Окей</button>
    </div>

    <svg (click)="closePopup()" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <line x1="1.93562" y1="2.64999" x2="13.9564" y2="14.6708" stroke="#BEBEBE" stroke-linecap="round"/>
      <line x1="13.9236" y1="2.62978" x2="1.90277" y2="14.6506" stroke="#BEBEBE" stroke-linecap="round"/>
    </svg>
  </div>
</div>
